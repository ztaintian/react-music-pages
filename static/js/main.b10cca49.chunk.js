(this["webpackJsonpmy-project"]=this["webpackJsonpmy-project"]||[]).push([[0],{15:function(e,t,n){e.exports=n(41)},20:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(13),r=n.n(c);n(20);var u=function(){return o.a.createElement("div",null,"\u5934\u90e8")},i=n(3),s=n.n(i),l=n(14),d=n(2);n(22),n(40);var p=function(){var e=Object(a.useState)({songResultData:{result:[]}}),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)("\u5218\u5fb7\u534e"),u=Object(d.a)(r,2),i=u[0],p=(u[1],Object(a.useState)(1)),m=Object(d.a)(p,2),f=m[0],g=(m[1],Object(a.useState)(10)),v=Object(d.a)(g,2),h=v[0],b=(v[1],Object(a.useState)(null)),j=Object(d.a)(b,2),w=j[0],O=j[1],S=Object(a.useRef)(null);Object(a.useEffect)((function(){(function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var n=new XMLHttpRequest;n.open("get","http://pd.musicapp.migu.cn/MIGUM2.0/v1.0/content/search_all.do?&ua=Android_migu&version=5.0.1&text=".concat(i,"&pageNo=").concat(f,"&pageSize=").concat(h,'&searchSwitch={"song":1,"album":0,"singer":0,"tagSong":0,"mvSong":0,"songlist":0,"bestShow":1}'),!0),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var e=JSON.parse(n.responseText);"000000"===e.code?c(e):alert(e.info)}},n.send()}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("audio",S);var y=n.songResultData.result;return o.a.createElement("div",{className:"list"},y.map((function(e,t){return o.a.createElement("div",{key:t,onClick:function(){O(e.contentId)}},e.name)})),o.a.createElement("audio",{ref:S,controls:!0,onEnded:function(){y.map((function(e,t){w===e.contentId&&(w=t===y.length-1?y[0].contentId:y[t+1].contentId)})),O(w)},autoPlay:!0,src:"http://app.pd.nf.migu.cn/MIGUM2.0/v1.0/content/sub/listenSong.do?toneFlag=HQ&netType=00&userId=15548614588710179085069&ua=Android_migu&version=5.1&copyrightId=0&contentId=".concat(w,"&resourceType=2&channel=1")},"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 audio \u6807\u7b7e\u3002"))};var m=function(){return o.a.createElement("div",null,o.a.createElement(u,null),o.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.b10cca49.chunk.js.map